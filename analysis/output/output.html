<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.0.37">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>An applied example of information loss due to categorising uncertainty in epidemic modelling</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>


<script src="output_files/libs/clipboard/clipboard.min.js"></script>
<script src="output_files/libs/quarto-html/quarto.js"></script>
<script src="output_files/libs/quarto-html/popper.min.js"></script>
<script src="output_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="output_files/libs/quarto-html/anchor.min.js"></script>
<link href="output_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="output_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="output_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="output_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="output_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">An applied example of information loss due to categorising uncertainty in epidemic modelling</h1>
</div>



<div class="quarto-title-meta">

    
    
  </div>
  

</header>

<section id="background" class="level2">
<h2 class="anchored" data-anchor-id="background">Background</h2>
<div class="cell">

</div>
<p>Scenario modelling aims to bound the uncertainty around some future outcome over some time frame. This is important for both understanding and acting upon systems with complex cause and effect dynamics, including outbreaks of infectious disease. Scenario modelling is a source of information on epidemic dynamics: trajectories of continuous incidence; and epidemic characteristics: peaks, turning points, cumulative burden (final outbreak size).</p>
<p>From a methodological perspective, the process of modelling is making choices about how to reduce and simplify a system in order to represent it. This comes with various forms of uncertainty, classifiable into either epistemic (unmeasurable uncertainty about the nature of the system) or aleatoric (stochastic, or random, uncertainty associated with imperfect measurement). In practice, modellers take decisions about how their model is structured (handling epistemic uncertainty) and processes observed data (managing stochastic uncertainty), with a diverse variety of approaches and methods in constant development. This results in a range of valid decisions, and we can compare the effect of these decisions by comparing across outputs produced by different models.</p>
<p>In order to perform any comparison, model outputs must be in a standardised format. One method of doing this is to specify a set of probabilities which modellers then assign values to, for example by counting the frequency of occurence.</p>
<ul>
<li>Collaborative modelling and ensembles
<ul>
<li>Comparing across models shows not only results but range of uncertainty</li>
<li>Infectious disease modelling hubs for forecasting and scenario projections</li>
<li>Two steps to combining information from multiple models:
<ol type="1">
<li>Create direct like for like comparisons of modelling results, through data harmonisation - standardised parameters and standardised format for representing modelling results</li>
<li>Summarise across models, using ensemble methods (as in other fields like climate / CMIP)</li>
</ol></li>
</ul></li>
<li>Information loss in the representation of uncertainty in infectious disease hubs
<ul>
<li>Hubs collect quantiles from each model because it’s resource efficient</li>
<li>This necessarily creates some information loss (similar to binned/categorical measures)</li>
</ul></li>
<li>We haven’t yet explored what information loss this creates or how this impacts the aim of the collaborations:
<ul>
<li>To provide information on epidemics</li>
<li>To summarise uncertainty across multiple models</li>
<li>To evaluate models and reduce uncertainty over time given observed data</li>
</ul></li>
</ul>
<section id="aims" class="level4">
<h4 class="anchored" data-anchor-id="aims">Aims</h4>
<p>We set up a scenario modelling collaboration to inform long term COVD-19 management in Europe. In collaboration with a policy team at the European Centre for Disease Prevention and Control, multiple modelling teams provided model outputs arising from a range of standardised scenarios designed to inform policy management.</p>
<p>Here we aim to demonstrate what information is lost in the process of summarising model output in quantiles when contributing to a multi-model epidemic modelling hub, in terms of:</p>
<ol type="1">
<li>Key epidemic characteristics</li>
<li>Summarising uncertainty using an ensemble</li>
<li>Exploring performance against observed data</li>
</ol>
</section>
</section>
<section id="methods" class="level2">
<h2 class="anchored" data-anchor-id="methods">Methods</h2>
<p>Background to setting scenarios and collection of samples - open Hub, scenarios co-created between ECDC and modellers - Projections using any method, up to 1 year for any of 32 countries - Round 2 scenarios with 3 models</p>
<ol type="1">
<li>Epidemic characteristics</li>
</ol>
<ul>
<li>selection of frequently reported and policy relevant characteristics</li>
</ul>
<ol start="2" type="1">
<li>Aggregation in order to summarise uncertainty across multiple models: difference in ensembles from raw samples vs from quantiles</li>
</ol>
<ul>
<li>Create unweighted median ensemble of models from all sample</li>
<li>Take quantiles from raw samples for each model; then unweighted median ensemble from the collection of quantiles</li>
<li>Compare differences in information shown by ensembles A and B., for each across multiple scenarios and locations.</li>
</ul>
<ol start="3" type="1">
<li>Weighting samples by performance</li>
</ol>
<ul>
<li>Mean absolute error for each sample: average for each sample trajectory of comparison to observed data at each available time point. Truncated by 2 weeks</li>
<li>Differences between scenarios ignored: all samples treated as equal probability</li>
<li>Inverse MAE for each sample used as a weight in a median ensemble (Harrel Davis weighted estimator)</li>
</ul>
</section>
<section id="results" class="level2">
<h2 class="anchored" data-anchor-id="results">Results</h2>
<div class="cell">

</div>
<p>We collected 3 models for each of five targets: reported COVID-19 cases in Spain, the Netherlands, Belgium; and deaths in the Netherlands and Belgium. In total we received 296 sample trajectories for each target.</p>
<p>Result 1: Raw samples allow for number of peaks and cumulative burden</p>
<p>We calculated the cumulative incidence of each trajectory and compared this to the previous 52 weeks’ cumulative total.</p>
<ul>
<li>Peaks</li>
<li>Turning points (timing of peak)</li>
<li>Final outbreak size / cumulative burden</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="output_files/figure-html/score-samples-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The forecasting performance of each sample varied substantially between both models and targets (figure #). When weighted by inverse MAE, no sample received more than 0.33% weight (among n=1184 samples for each target). Weighting across samples was heavily skewed for some targets, for example cases in Spain and Belgium with a cluster of highly weighted predictive samples each from one model. Meanwhile, multiple models had highly predictive samples, for example two models with similarly performing samples in the</p>
<p>Weights were more uniform across samples’ forecast performance for deaths in the Netherlands and Belgium (with a median weight of 0.1% and 0.09% respectively across samples).</p>
<div class="cell">

</div>
<div class="cell">

</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]</code></pre>
</div>
<div class="cell-output-display">
<p><img src="output_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
[[2]]</code></pre>
</div>
<div class="cell-output-display">
<p><img src="output_files/figure-html/unnamed-chunk-3-2.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
[[3]]</code></pre>
</div>
<div class="cell-output-display">
<p><img src="output_files/figure-html/unnamed-chunk-3-3.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
[[4]]</code></pre>
</div>
<div class="cell-output-display">
<p><img src="output_files/figure-html/unnamed-chunk-3-4.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
[[5]]</code></pre>
</div>
<div class="cell-output-display">
<p><img src="output_files/figure-html/unnamed-chunk-3-5.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><em>Figure #. Comparison of 100 samples, an ensemble of samples, an ensemble of quantiles, and a weighted ensemble of samples weighted by six month performance against observed data</em></p>
</section>
<section id="discussion" class="level2">
<h2 class="anchored" data-anchor-id="discussion">Discussion</h2>
<ul>
<li><p>Summary of results</p></li>
<li><p>Strengths of using samples:</p>
<ul>
<li>Samples show trajectory shapes, peaks, and cumulative burdens</li>
<li>Weighting only possible from samples - samples can continue to be used, quantiles are one-off results</li>
</ul></li>
<li><p>Limitations</p>
<ul>
<li>Simple ensemble still doesn’t solve the problem of combining multiple shapes in one epidemic curve</li>
</ul></li>
</ul>
<p>We collected three models for five targets in Spain, the Netherlands, and Belgium. Data reporting quality varied substantially between these targets. However, assuming all models had access to the same data sources, our conclusions with respect to the process of reducing samples to quantiles remain valid.</p>
<p>Scenarios offer a way to explore epistemic uncertainty by explicitly varying assumptions about system characteristics. However, the reduction of model outputs to quantile probabilities limits this possibility.</p>
<ul>
<li>Conclusions and recommendations
<ul>
<li>Depends what the focus + longevity of the project is:</li>
<li>Little difference (i.e.&nbsp;little information is lost) if the focus is one-off, or only on the central estimates</li>
<li>Samples better if focus is long-term use of one set of results, on peaks and cumulative sizes, or on outer bounds of uncertainty</li>
</ul></li>
<li>Further work
<ul>
<li>Number of samples to collect from each model</li>
<li>Ensemble by shape of epidemic curve</li>
</ul></li>
</ul>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->



</body></html>